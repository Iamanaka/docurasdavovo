<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Do√ßuras da Vov√≥ - Confeitaria Artesanal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Anima√ß√£o para o modal entrar suave */
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            
            <a href="#inicio" class="flex items-center space-x-2">
                <img src="images/logodocurasdavovo.jpeg" alt="Logo Vov√≥" class="w-8 h-8 rounded-full shadow-md transform hover:scale-110 transition duration-300">
                <h1 class="text-2xl font-bold text-pink-600 hidden sm:block">Do√ßuras da Vov√≥</h1>
            </a>

            <nav class="hidden sm:flex items-center space-x-4">
                <a href="#produtos" class="text-gray-600 hover:text-pink-600 transition duration-150">Produtos</a>
                <a href="#sobre" class="text-gray-600 hover:text-pink-600 transition duration-150">Sobre</a>
                <a href="#contato" class="text-gray-600 hover:text-pink-600 transition duration-150">Contato</a>
                <a href="natal.html" class="bg-pink-600 text-white font-bold py-2 px-4 rounded-full shadow-lg hover:bg-pink-700 transition duration-300 transform hover:scale-105">
                    üéÑ Card√°pio de Natal 2025
                </a>
            </nav>

            <button id="mobile-menu-button" class="sm:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-pink-600" aria-label="Abrir menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </div>
        <div id="mobile-menu" class="sm:hidden hidden px-4 pb-4">
            <a href="#produtos" class="block text-gray-700 py-2">Produtos</a>
            <a href="#sobre" class="block text-gray-700 py-2">Sobre</a>
            <a href="#contato" class="block text-gray-700 py-2">Contato</a>
            <a href="natal.html" class="block bg-pink-600 text-white font-bold py-2 px-4 rounded-full mt-2">üéÑ Card√°pio de Natal 2025</a>
        </div>
    </header>

    <section class="bg-yellow-50 py-24 md:py-32" id="inicio">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl md:text-6xl font-extrabold text-pink-800 mb-4">
                Do√ßuras da Vov√≥
            </h2>
            <p class="text-xl md:text-2xl text-pink-700 mb-8 max-w-3xl mx-auto">
                Bolos, doces e sobremesas feitos com as receitas afetivas que s√≥ a Vov√≥ sabe fazer.
            </p>
            <a href="#produtos" class="inline-block bg-pink-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-pink-700 transition duration-300 transform hover:scale-105">
                Ver Card√°pio
            </a>
        </div>
    </section>

    <section class="bg-pink-100 py-8" id="aviso-natal">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-2xl font-extrabold text-pink-800 mb-2">üéÅ J√° viu nosso Card√°pio Especial de Natal?</h3>
            <p class="text-lg text-gray-700 mb-4">Encomendas para a Ceia at√© 21/12! N√£o perca as sobremesas da Vov√≥!</p>
            <a href="natal.html" class="inline-block bg-pink-600 text-white font-bold py-2 px-6 rounded-full shadow-md hover:bg-pink-700 transition duration-300">
                Acessar Card√°pio de Natal
            </a>
        </div>
    </section>

    <section class="py-16 md:py-24" id="produtos">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-700">Nossos Destaques (Todo o Ano)</h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border border-pink-200 flex flex-col justify-between">
                    <div>
                        <img src="images/bolo-cenoura-brigadeiro.jpeg" alt="Bolo de Cenoura com Brigadeiro" loading="lazy" class="w-full h-40 md:h-48 object-cover rounded-lg mb-4">
                        <h4 class="text-xl font-semibold text-gray-700 mb-2">Bolo de Cenoura Cobertura sequinha</h4>
                        <p class="text-pink-600 text-2xl font-bold mb-4">a partir de R$ 55,00</p>
                        <p class="text-gray-500 text-sm mb-4">
                            Feito com chocolate belga e massa fofinha.
                        </p>
                    </div>
                    <button onclick="adicionarAoCarrinho('Bolo de Cenoura da Vov√≥', 55.00)" class="w-full bg-pink-600 text-white font-semibold py-2 rounded-lg hover:bg-pink-700 transition duration-300 active:scale-95">
                        Adicionar ao Carrinho üõí
                    </button>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border border-pink-200 flex flex-col justify-between">
                    <div>
                        <img src="images/caixinha-brigadeiro.jpg" alt="Kit Brigadeiros Gourmet" loading="lazy" class="w-full h-40 md:h-48 object-cover rounded-lg mb-4">
                        <h4 class="text-xl font-semibold text-gray-700 mb-2">Kit 4 Brigadeiros Gourmet</h4>
                        <p class="text-pink-600 text-2xl font-bold mb-4">R$ 3,00</p>
                        <p class="text-gray-500 text-sm mb-4">
                            Sabores variados (pistache, lim√£o, churros). Ideal para festas.
                        </p>
                    </div>
                    <button onclick="adicionarAoCarrinho('Kit 4 Brigadeiros Gourmet', 3.00)" class="w-full bg-pink-600 text-white font-semibold py-2 rounded-lg hover:bg-pink-700 transition duration-300 active:scale-95">
                        Adicionar ao Carrinho üõí
                    </button>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border border-pink-200 flex flex-col justify-between">
                    <div>
                        <img src="images/trufas-recheadas.jpeg" alt="Trufas Recheadas" loading="lazy" class="w-full h-40 md:h-48 object-cover rounded-lg mb-4">
                        <h4 class="text-xl font-semibold text-gray-700 mb-2">Trufas Recheadas</h4>
                        <p class="text-pink-600 text-2xl font-bold mb-4">R$ 6,00</p>
                        <p class="text-gray-500 text-sm mb-4">
                            Recheios cremosos de maracuj√° e coco. Perfeito para presentear.
                        </p>
                    </div>
                    <button onclick="adicionarAoCarrinho('Trufas Recheadas', 6.00)" class="w-full bg-pink-600 text-white font-semibold py-2 rounded-lg hover:bg-pink-700 transition duration-300 active:scale-95">
                        Adicionar ao Carrinho üõí
                    </button>
                </div>

            </div>
            </div>
    </section>

    <section class="bg-gray-100 py-16 md:py-24" id="sobre">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-3xl font-bold text-gray-700 mb-6">Tradi√ß√£o e Amor em Fam√≠lia</h3>
            <p class="text-lg text-gray-600 leading-relaxed">
                A Do√ßuras da Vov√≥ nasceu do desejo de manter viva a tradi√ß√£o das receitas de fam√≠lia. Cada doce √© feito como antigamente: sem pressa, com ingredientes frescos e muito carinho. Nosso foco √© na qualidade e na entrega de um sabor que remete √† inf√¢ncia.
            </p>
        </div>
    </section>

    <footer class="bg-gray-800 text-white py-12 pb-24" id="contato">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center text-center md:text-left">
            <div class="mb-6 md:mb-0">
                <h4 class="text-xl font-bold mb-2">Fale Conosco</h4>
                <p class="text-gray-400">Email: contato@docurasdavovo.com.br</p>
                <p class="text-gray-400">WhatsApp: (12) 99654-3722</p>
            </div>
            <div>
                <h4 class="text-xl font-bold mb-4">Redes Sociais</h4>
                <div class="flex justify-center md:justify-start space-x-4">
                    <a href="https://www.instagram.com/_docuras_vovo" target="_blank" class="text-gray-400 hover:text-pink-500 transition duration-300" aria-label="Instagram">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4c0 3.2-2.6 5.8-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8C2 4.6 4.6 2 7.8 2zm-.2 2.7l-.4.1c-1.8.3-3 1.5-3.3 3.3l-.1.4V16.2c0 1.8 1.2 3.3 3.3 3.7H16.2c1.8 0 3.3-1.2 3.7-3.3l.1-.4V7.8c0-1.8-1.2-3.3-3.3-3.7H7.6zM12 7a5 5 0 100 10 5 5 0 000-10zM12 9a3 3 0 110 6 3 3 0 010-6zm6.5-3.6a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="mt-8 border-t border-gray-700 pt-6 text-center text-sm text-gray-500">
            &copy; 2025 Do√ßuras da Vov√≥ Confeitaria. Todos os direitos reservados.
        </div>
    </footer>

    <div id="barrinha-carrinho" onclick="abrirModalCarrinho()" class="fixed bottom-4 right-4 left-4 md:left-auto md:w-80 bg-green-600 hover:bg-green-700 text-white p-4 rounded-xl shadow-2xl cursor-pointer transition-all duration-300 z-50 hidden flex justify-between items-center transform hover:scale-105 border-2 border-white">
        <div class="flex items-center space-x-3">
            <span class="text-2xl">üõí</span>
            <div class="flex flex-col">
                <span class="font-bold text-sm">Meu Pedido</span>
                <span class="text-xs text-green-100" id="contador-itens">0 itens</span>
            </div>
        </div>
        <div class="font-bold text-lg">
            R$ <span id="valor-total">0,00</span>
        </div>
    </div>

    <div id="modal-carrinho" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden flex justify-end">
        <div class="bg-white w-full md:w-96 h-full flex flex-col shadow-xl animate-slide-in">
            <div class="bg-pink-600 text-white p-4 flex justify-between items-center shadow-md">
                <h3 class="font-bold text-lg flex items-center gap-2">üõí Seu Carrinho</h3>
                <button onclick="fecharModalCarrinho()" class="text-white hover:bg-pink-700 rounded-full p-1 transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <div id="lista-itens" class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50">
                </div>

            <div class="p-4 bg-white border-t border-gray-200 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]">
                <div class="flex justify-between items-center mb-4">
                    <span class="font-bold text-gray-700">Total:</span>
                    <span class="font-bold text-2xl text-pink-600">R$ <span id="total-modal">0,00</span></span>
                </div>
                <button onclick="finalizarCompraWhatsApp()" class="w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition duration-300 flex justify-center items-center space-x-2 shadow-lg hover:shadow-green-200">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.151-.174.2-.298.3-.495.099-.198.05-.372-.025-.52-.075-.149-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                <span>Enviar Pedido no WhatsApp</span>
            </button>
            <button onclick="limparCarrinho()" class="w-full mt-3 text-red-400 text-xs hover:text-red-600 hover:underline text-center">
                Esvaziar carrinho
            </button>
        </div>
    </div>

    <script>
        // 1. CARREGAR DADOS
        let carrinho = JSON.parse(localStorage.getItem('carrinhoVovo')) || [];

        // Corre√ß√£o para vers√µes antigas do carrinho sem qtd
        carrinho = carrinho.map(item => {
            if(!item.qtd) item.qtd = 1;
            return item;
        });

        // 2. FUN√á√ÉO ADICIONAR (Soma quantidade se j√° existe)
        function adicionarAoCarrinho(nome, preco) {
            const itemExistente = carrinho.find(item => item.nome === nome);
            if (itemExistente) {
                itemExistente.qtd += 1;
            } else {
                carrinho.push({ nome: nome, preco: parseFloat(preco), qtd: 1 });
            }
            salvarCarrinho();
            atualizarVisualizacao();
            
            // Efeito visual no bot√£o
            const btn = event.target.closest('button');
            if(btn) {
                const textoOriginal = btn.innerHTML;
                btn.innerHTML = "‚úÖ Adicionado";
                btn.classList.add("bg-green-600", "text-white");
                setTimeout(() => {
                    btn.innerHTML = textoOriginal;
                    btn.classList.remove("bg-green-600", "text-white");
                }, 800);
            }
        }

        // 3. ALTERAR QUANTIDADE (+ e -)
        function alterarQtd(nome, acao) {
            const item = carrinho.find(i => i.nome === nome);
            if (!item) return;

            if (acao === '+') {
                item.qtd += 1;
            } else if (acao === '-') {
                item.qtd -= 1;
                if (item.qtd <= 0) {
                    removerItem(nome);
                    return;
                }
            }
            salvarCarrinho();
            atualizarVisualizacao();
        }

        // 4. REMOVER ITEM
        function removerItem(nome) {
            carrinho = carrinho.filter(item => item.nome !== nome);
            salvarCarrinho();
            atualizarVisualizacao();
        }

        // 5. SALVAR
        function salvarCarrinho() {
            localStorage.setItem('carrinhoVovo', JSON.stringify(carrinho));
        }

        // 6. ATUALIZAR TELA (Layout com Quantidade)
        function atualizarVisualizacao() {
            const total = carrinho.reduce((acc, item) => acc + (item.preco * item.qtd), 0);
            const contadorTotal = carrinho.reduce((acc, item) => acc + item.qtd, 0);

            const contadorEl = document.getElementById('contador-itens');
            const totalEl = document.getElementById('valor-total');
            const totalModalEl = document.getElementById('total-modal');
            const barrinha = document.getElementById('barrinha-carrinho');
            const lista = document.getElementById('lista-itens');

            if(contadorEl) contadorEl.innerText = contadorTotal + (contadorTotal === 1 ? ' item' : ' itens');
            if(totalEl) totalEl.innerText = total.toFixed(2).replace('.', ',');
            if(totalModalEl) totalModalEl.innerText = total.toFixed(2).replace('.', ',');

            if (carrinho.length > 0) {
                barrinha.classList.remove('hidden');
            } else {
                barrinha.classList.add('hidden');
                fecharModalCarrinho();
            }

            lista.innerHTML = '';
            if (carrinho.length === 0) {
                lista.innerHTML = '<p class="text-center text-gray-500 mt-10">Seu carrinho est√° vazio.</p>';
                return;
            }

            carrinho.forEach(item => {
                const subtotal = item.preco * item.qtd;
                const div = document.createElement('div');
                div.className = 'bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex flex-col gap-2';
                
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <p class="font-bold text-gray-800 text-sm w-3/4 leading-tight">${item.nome}</p>
                        <button onclick="removerItem('${item.nome}')" class="text-gray-400 hover:text-red-500">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                        </button>
                    </div>
                    <div class="flex justify-between items-center mt-1">
                        <div class="flex items-center border border-gray-300 rounded-md">
                            <button onclick="alterarQtd('${item.nome}', '-')" class="px-2 py-1 text-pink-600 hover:bg-pink-50 font-bold text-lg">-</button>
                            <span class="px-2 py-1 text-sm font-semibold text-gray-700 min-w-[30px] text-center">${item.qtd}</span>
                            <button onclick="alterarQtd('${item.nome}', '+')" class="px-2 py-1 text-pink-600 hover:bg-pink-50 font-bold text-lg">+</button>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-500">Unit: R$ ${item.preco.toFixed(2).replace('.', ',')}</p>
                            <p class="text-pink-600 font-bold">R$ ${subtotal.toFixed(2).replace('.', ',')}</p>
                        </div>
                    </div>
                `;
                lista.appendChild(div);
            });
        }

        // 7. CONTROLES DO MODAL
        function abrirModalCarrinho() {
            document.getElementById('modal-carrinho').classList.remove('hidden');
        }
        function fecharModalCarrinho() {
            document.getElementById('modal-carrinho').classList.add('hidden');
        }
        function limparCarrinho() {
            if(confirm('Tem certeza que deseja esvaziar todo o carrinho?')) {
                carrinho = [];
                salvarCarrinho();
                atualizarVisualizacao();
            }
        }

        // 8. ENVIAR WHATSAPP (Formatado com quantidades)
        function finalizarCompraWhatsApp() {
            if (carrinho.length === 0) return;

            let telefone = "5512996543722"; // SEU N√öMERO
            let quebraLinha = "%0A";
            
            let mensagem = `Ol√° Do√ßuras da Vov√≥! üßÅ${quebraLinha}Gostaria de finalizar meu pedido:${quebraLinha}${quebraLinha}`;
            let total = 0;

            carrinho.forEach(item => {
                let subtotal = item.preco * item.qtd;
                total += subtotal;
                mensagem += `‚ñ™Ô∏è *${item.qtd}x* ${item.nome} ... R$ ${subtotal.toFixed(2).replace('.', ',')}${quebraLinha}`;
            });

            mensagem += `${quebraLinha}-----------------------------------${quebraLinha}`;
            mensagem += `*üí∞ Valor Total: R$ ${total.toFixed(2).replace('.', ',')}*${quebraLinha}`;
            mensagem += `-----------------------------------${quebraLinha}${quebraLinha}`;
            mensagem += `Aguardo confirma√ß√£o!`;

            let url = `https://api.whatsapp.com/send?phone=${telefone}&text=${mensagem}`;
            window.open(url, '_blank');
        }

        // Inicializa ao abrir
        atualizarVisualizacao();

        // 9. SCRIPT EXTRA: FALLBACK DE IMAGENS
        document.addEventListener('DOMContentLoaded', () => {
            const mobileBtn = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileBtn && mobileMenu) {
                mobileBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            }

            const imgs = document.querySelectorAll('img');
            const exts = ['.jpeg', '.jpg', '.png'];

            imgs.forEach(img => {
                let src = img.getAttribute('src') || '';
                const m = src.match(/^(.*?)(?:\.[a-zA-Z0-9]{1,5})?$/);
                const base = m ? m[1] : src;
                img.dataset._baseSrc = base;
                img.dataset._tried = JSON.stringify([]);

                const onError = function() {
                    let tried = JSON.parse(this.dataset._tried || '[]');
                    const next = exts.find(e => !tried.includes(e));
                    if (next) {
                        tried.push(next);
                        this.dataset._tried = JSON.stringify(tried);
                        this.removeEventListener('error', onError);
                        this.src = this.dataset._baseSrc + next;
                        setTimeout(() => this.addEventListener('error', onError), 50);
                        return;
                    }
                    this.removeEventListener('error', onError);
                    this.src = 'https://placehold.co/400x300/fce7f3/db2777?text=Do%C3%A7uras+da+Vov%C3%B3'; 
                };

                if (!/\.[a-zA-Z0-9]{1,5}$/.test(src)) {
                    img.src = base + '.jpeg';
                    img.dataset._tried = JSON.stringify(['.jpeg']);
                }
                img.addEventListener('error', onError);
            });
        });
    </script>
</body>
</html>